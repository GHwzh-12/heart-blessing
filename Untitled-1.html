<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çˆ±å¿ƒç¥ç¦å¼¹çª— - GitHub Pagesç‰ˆ</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            color: white; min-height: 100vh; display: flex;
            flex-direction: column; align-items: center;
            justify-content: center; padding: 20px; text-align: center;
        }
        .container {
            max-width: 800px; width: 100%; background: rgba(255,255,255,0.05);
            border-radius: 20px; padding: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        h1 { color: #ff6b6b; font-size: 2.5rem; margin-bottom: 20px; }
        .success { color: #06d6a0; font-size: 1.5rem; margin: 20px; font-weight: bold; }
        .heart-area {
            width: 300px; height: 300px; position: relative; margin: 20px auto;
            background: rgba(255,255,255,0.02); border-radius: 10px;
            border: 2px dashed rgba(255,255,255,0.1);
        }
        .popup {
            position: absolute; background: #ff6b9d; color: white; padding: 8px 12px;
            border-radius: 8px; font-size: 14px; font-weight: bold; opacity: 0;
            transform: scale(0.5); transition: 0.3s; cursor: pointer; text-align: center;
            box-shadow: 0 4px 10px rgba(255,107,157,0.5);
        }
        .qrcode-box {
            background: white; width: 200px; height: 200px; margin: 20px auto;
            border-radius: 10px; padding: 15px; display: flex;
            align-items: center; justify-content: center; flex-direction: column;
            color: #333; font-weight: bold;
        }
        button {
            background: #06d6a0; color: white; border: none; padding: 12px 25px;
            border-radius: 25px; font-size: 16px; margin: 10px; cursor: pointer;
            font-weight: bold;
        }
        #stopBtn { background: #ef476f; }
        .footer { margin-top: 30px; color: #a5b4fc; font-size: 14px; }
        .url { color: #ffd166; word-break: break-all; font-size: 12px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>â¤ï¸ çˆ±å¿ƒç¥ç¦å¼¹çª— â¤ï¸</h1>
        <div class="success">âœ… GitHub Pages éƒ¨ç½²æˆåŠŸï¼</div>
        
        <div class="qrcode-box" id="qrcode">
            <div style="font-size: 3rem; color: #073b4c;">ğŸ“±</div>
            <div style="font-weight: bold; margin-top: 10px;">çˆ±å¿ƒç¥ç¦äºŒç»´ç </div>
            <div id="qrcodeText" style="font-size: 12px; margin-top: 15px; color: #666;">
                æ­£åœ¨åŠ è½½...
            </div>
        </div>
        
        <div class="heart-area" id="heartContainer"></div>
        
        <div>
            <button onclick="startAnimation()">å¼€å§‹ç¥ç¦</button>
            <button onclick="stopAnimation()" id="stopBtn">åœæ­¢æ•ˆæœ</button>
        </div>
        
        <div class="footer">
            <p>è®¾è®¡çµæ„Ÿæ¥è‡ªï¼šæ¡äººã€ä¿æŒå¥½å¿ƒæƒ…ã€å¥½å¥½çˆ±è‡ªå·±</p>
            <p>æ‚¨çš„GitHub Pagesé“¾æ¥ï¼š</p>
            <p class="url" id="pageUrl"></p>
            <p>å°†æ­¤é“¾æ¥åˆ†äº«ç»™æœ‹å‹ï¼Œæ‰‹æœºæ‰«ç å³å¯æŸ¥çœ‹æ•ˆæœï¼</p>
        </div>
    </div>

    <script>
        // ç¥ç¦è¯­
        const blessings = [
            "æ¡äºº", "ä¿æŒå¥½å¿ƒæƒ…", "å¥½å¥½çˆ±è‡ªå·±", 
            "å‘ç»™ä½ çš„æœ‹å‹ï¼Œè®©ä»–å¼€å¿ƒä¸€æ•´å¤©",
            "å¼€å¿ƒæ¯ä¸€å¤©", "å¹¸ç¦æ°¸ç›¸ä¼´", "å¥åº·å¹³å®‰"
        ];
        
        let popups = [];
        
        // çˆ±å¿ƒåæ ‡å‡½æ•°
        function getHeartPoints(count) {
            const points = [];
            for(let i = 0; i < count; i++) {
                const t = (i / count) * Math.PI * 2;
                const x = 16 * Math.pow(Math.sin(t), 3);
                const y = 13 * Math.cos(t) - 5 * Math.cos(2*t) - 2 * Math.cos(3*t) - Math.cos(4*t);
                points.push({
                    x: 150 - x * 8,
                    y: 150 - y * 8
                });
            }
            return points;
        }
        
        // å¼€å§‹åŠ¨ç”»
        function startAnimation() {
            const container = document.getElementById('heartContainer');
            container.innerHTML = '';
            popups = [];
            
            const points = getHeartPoints(blessings.length);
            
            // åˆ›å»ºå¼¹çª—
            for(let i = 0; i < blessings.length; i++) {
                setTimeout(() => {
                    const popup = document.createElement('div');
                    popup.className = 'popup';
                    popup.textContent = blessings[i];
                    popup.style.left = points[i].x + 'px';
                    popup.style.top = points[i].y + 'px';
                    popup.style.background = [
                        '#ff6b9d', '#06d6a0', '#ffd166', '#118ab2'
                    ][i % 4];
                    
                    popup.onclick = function() {
                        this.style.opacity = '0';
                        this.style.transform = 'scale(0.5)';
                        setTimeout(() => this.remove(), 300);
                    };
                    
                    container.appendChild(popup);
                    popups.push(popup);
                    
                    // æ˜¾ç¤ºåŠ¨ç”»
                    setTimeout(() => {
                        popup.style.opacity = '1';
                        popup.style.transform = 'scale(1)';
                    }, 10);
                    
                    // æœ€åä¸€ä¸ªå®Œæˆåå¼€å§‹æ¶ˆå¤±
                    if(i === blessings.length - 1) {
                        setTimeout(() => {
                            startDisappear();
                        }, 1000);
                    }
                }, i * 200);
            }
        }
        
        // å¼€å§‹æ¶ˆå¤±åŠ¨ç”»
        function startDisappear() {
            for(let i = 0; i < popups.length; i++) {
                setTimeout(() => {
                    if(popups[i]) {
                        popups[i].style.opacity = '0';
                        popups[i].style.transform = 'scale(0.5)';
                        setTimeout(() => {
                            if(popups[i] && popups[i].parentNode) {
                                popups[i].parentNode.removeChild(popups[i]);
                            }
                        }, 300);
                    }
                }, i * 150);
            }
            
            // é‡æ–°å¼€å§‹
            setTimeout(() => {
                startAnimation();
            }, popups.length * 150 + 1000);
        }
        
        // åœæ­¢åŠ¨ç”»
        function stopAnimation() {
            popups.forEach(popup => {
                if(popup && popup.parentNode) {
                    popup.style.opacity = '0';
                    popup.style.transform = 'scale(0.5)';
                    setTimeout(() => popup.remove(), 300);
                }
            });
            popups = [];
        }
        
        // ç”ŸæˆäºŒç»´ç 
        function generateQRCode() {
            const qrcodeText = document.getElementById('qrcodeText');
            const pageUrl = window.location.href;
            const pageUrlElement = document.getElementById('pageUrl');
            
            // æ˜¾ç¤ºå½“å‰URL
            pageUrlElement.textContent = pageUrl;
            
            // ç”ŸæˆäºŒç»´ç å›¾ç‰‡
            const img = new Image();
            img.src = `https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${encodeURIComponent(pageUrl)}&color=ff6b6b&bgcolor=ffffff`;
            
            img.onload = function() {
                document.getElementById('qrcode').innerHTML = '';
                document.getElementById('qrcode').appendChild(img);
                qrcodeText.textContent = 'æ‰‹æœºæ‰«ç æŸ¥çœ‹æ•ˆæœ';
            };
            
            img.onerror = function() {
                qrcodeText.innerHTML = `
                    <div>âœ… éƒ¨ç½²æˆåŠŸï¼</div>
                    <div style="margin-top: 5px; font-size: 10px;">
                        è¯·è®¿é—®ï¼š<br>${pageUrl}
                    </div>
                `;
            };
        }
        
        // é¡µé¢åŠ è½½
        document.addEventListener('DOMContentLoaded', function() {
            generateQRCode();
            setTimeout(startAnimation, 2000);
        });
    </script>
</body>
</html>

